function n(n,e){n.block.ruler.before("blockquote","amsmath",t,{alt:["paragraph","reference","blockquote","list","footnote_def"]});const r=null==e?void 0:e.renderer;n.renderer.rules.amsmath=r?(t,a)=>{const o=t[a].content;let i;try{i=r(o,null==e?void 0:e.options)}catch(e){i=n.utils.escapeHtml(`${o}:${e.message}`)}return i}:(e,t)=>`<section class="amsmath">\n<eqn>\n${n.utils.escapeHtml(e[t].content)}\n</eqn>\n</section>\n`}const e=new RegExp(`^\\\\begin{(${["equation","multline","gather","align","alignat","flalign","matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","eqnarray"].join("|")})([*]?)}`);function t(n,t,r,a){if(n.sCount[t]-n.blkIndent>=4)return!1;const o=n.bMarks[t]+n.tShift[t],i=function(n){const t=n.match(e);if(!t)return null;const[,r,a]=t,o=`\\end{${r}${a}}`,i=n.indexOf(o);return-1===i?null:{environment:r,numbered:a,endpos:i+o.length}}(n.src.slice(o));if(!i)return!1;const{environment:l,numbered:s}=i;let{endpos:c}=i;c+=o;let m=t;for(;m<r;){if(c>=n.bMarks[m]&&c<=n.eMarks[m]){n.line=m+1;break}m+=1}if(!a){const e=n.push("amsmath","math",0);e.block=!0,e.content=n.src.slice(o,c),e.meta={environment:l,numbered:s},e.map=[t,m]}return!0}export default n;
//# sourceMappingURL=index.js.map

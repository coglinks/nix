!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).markdownitAmsmath=n()}(this,(function(){"use strict";const e=new RegExp(`^\\\\begin{(${["equation","multline","gather","align","alignat","flalign","matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","eqnarray"].join("|")})([*]?)}`);function n(n,t,r,o){if(n.sCount[t]-n.blkIndent>=4)return!1;const i=n.bMarks[t]+n.tShift[t],s=function(n){const t=n.match(e);if(!t)return null;const[,r,o]=t,i=`\\end{${r}${o}}`,s=n.indexOf(i);return-1===s?null:{environment:r,numbered:o,endpos:s+i.length}}(n.src.slice(i));if(!s)return!1;const{environment:a,numbered:l}=s;let{endpos:c}=s;c+=i;let u=t;for(;u<r;){if(c>=n.bMarks[u]&&c<=n.eMarks[u]){n.line=u+1;break}u+=1}if(!o){const e=n.push("amsmath","math",0);e.block=!0,e.content=n.src.slice(i,c),e.meta={environment:a,numbered:l},e.map=[t,u]}return!0}return function(e,t){e.block.ruler.before("blockquote","amsmath",n,{alt:["paragraph","reference","blockquote","list","footnote_def"]});const r=null==t?void 0:t.renderer;e.renderer.rules.amsmath=r?(n,o)=>{const i=n[o].content;let s;try{s=r(i,null==t?void 0:t.options)}catch(n){s=e.utils.escapeHtml(`${i}:${n.message}`)}return s}:(n,t)=>`<section class="amsmath">\n<eqn>\n${e.utils.escapeHtml(n[t].content)}\n</eqn>\n</section>\n`}}));
//# sourceMappingURL=index.js.map
